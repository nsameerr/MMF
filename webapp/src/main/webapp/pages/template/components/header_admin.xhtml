<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <head>
        <title>TODO supply a title</title>
    </head>
    <body>
        <ui:composition>
            <h:form id="frm_header">
                <p:remoteCommand name="redirectUpload" action="#{headerController.onClickUpload()}"/>
                <p:remoteCommand name="redirectKit" action="#{headerController.onClickAllotKit()}"/>
                <p:remoteCommand name="redirectSettings" action="#{headerController.onClickSettings()}"/>
                <p:remoteCommand name="redirectHolidayList" action="#{headerController.onClickHolidayCalender()}"/>
                <div class="navbar navbar-inverse">
                    <div class="navbar-inner">
                        <button type="button" class="btn btn-navbar visible-phone" id="menu-toggler">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <ul class="nav pull-right">
                            <li class="hidden-phone">
                            </li>
                            <h:panelGroup rendered="#{headerController.adminNotificationspoup.size() > 0}">
                                <li class="notification-dropdown ">
                                    <a href="#" class="trigger">
                                        <i class="icon-warning-sign"></i>
                                        <span class="count">
                                            <h:outputText value="#{headerController.adminNotificationspoup.size()}"/>
                                        </span>
                                    </a>
                                    <div class="pop-dialog">
                                        <div class="pointer right">
                                            <div class="arrow"></div>
                                            <div class="arrow_border"></div>
                                        </div>
                                        <div class="body">
                                            <a href="#" class="close-icon"><i class="icon-remove-sign"></i></a>
                                            <div class="notifications">
                                                <h3>You have <h:outputText value="#{headerController.adminNotificationspoup.size()}"/> new notification</h3>
                                                <p:remoteCommand name="selectNotification" actionListener="#{headerController.doActionRedirectToADM()}"
                                                                 action="#{headerController.getRedirectToADM()}"/>
                                                <ui:repeat value="#{headerController.adminNotificationspoup}"
                                                           var="notification"
                                                           rendered="#{headerController.adminNotificationspoup.size()>0}">
                                                    <div class="item">

                                                        <div onclick ="selectNotification([{name: 'index',
                                                                        value: '#{headerController.adminNotificationspoup.indexOf(notification)}_true'}]);">
                                                            <h:outputLabel  class="icon-signin"/><span><h:outputText  value="#{notification.notificationMessage}" 
                                                                                                                      style="cursor: pointer;"/></span>
                                                            <br/>                                                            
                                                            <span class="time"><i class="icon-time"></i> #{notification.elapsedTimeMsg}</span>
                                                        </div>    
                                                    </div>
                                                </ui:repeat>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </h:panelGroup>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    Admin
                                    <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="#">Personal info</a></li>
                                    <!-- below link must be removed(added for testing purpose) -->
                                    <!--
                                    <li>
                                        <h:commandLink 
                                            value="Invoke Test Method" actionListener="{headerController.testMethod()}">
                                        </h:commandLink>
                                    </li>
                                    -->
                                </ul>
                            </li>
                            <li class="settings  dropdown">
                                <a href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">
                                   <i class="icon-cog"></i>
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" onclick="redirectUpload()">
                                            <span>Upload SymbolFile</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" onclick="redirectKit()">
                                            <span>Allot Registration Kit</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" onclick="redirectSettings()">
                                            <span>MMF Settings</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" onclick="redirectHolidayList()">
                                            <span>Holiday Calender</span>
                                        </a>
                                    </li>
                                    <!--<li><a href="#">Connect Social Networks</a></li>-->
                                </ul>
                            </li>
                            <li class="settings " style="cursor: pointer;">
                                <h:commandLink action="#{headerController.logout}">
                                    <i class="icon-share-alt"></i>
                                </h:commandLink>
                            </li>
                        </ul>
                    </div>
                </div>
            </h:form>
        </ui:composition>
    </body>
</html>
